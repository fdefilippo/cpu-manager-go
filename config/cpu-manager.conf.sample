# CPU Manager Configuration File
# Location: /etc/cpu-manager.conf

# ========================
# PATHS
# ========================
CGROUP_ROOT=/sys/fs/cgroup
SCRIPT_CGROUP_BASE=cpu_manager
LOG_FILE=/var/log/cpu-manager.log
CREATED_CGROUPS_FILE=/var/run/cpu-manager/cgroups.txt
METRICS_CACHE_FILE=/var/run/cpu-manager/metrics.cache

# ========================
# TIMING
# ========================
POLLING_INTERVAL=30
MIN_ACTIVE_TIME=60
METRICS_CACHE_TTL=15

# ========================
# THRESHOLDS (percentages)
# ========================
CPU_THRESHOLD=75
CPU_RELEASE_THRESHOLD=40

# ========================
# CPU LIMITS (cpu.max format: "quota period")
# core_totali=Quota/Period
# Esempio:  50000 100000 -> 1/2 core
# Esempio: 300000 100000 -> 3 core
# Esempio: 200000 100000 -> 2 core completi
# ========================
CPU_QUOTA_NORMAL="max 100000"
CPU_QUOTA_LIMITED="50000 100000"

# ========================
# PROMETHEUS
# ========================
ENABLE_PROMETHEUS=true
PROMETHEUS_PORT=9100
PROMETHEUS_HOST=192.168.1.7

# ========================
# LOGGING
# ========================
LOG_LEVEL=DEBUG
LOG_MAX_SIZE=10485760

# ========================
# SYSTEM
# ========================
MIN_SYSTEM_CORES=1
SYSTEM_UID_MIN=1000
# SYSTEM_UID_MAX viene letto automaticamente da /proc/sys/kernel/pid_max

# ========================
# LOAD AVERAGE HANDLING
# ========================
# false: non attiva limiti se il sistema è già sotto carico (default conservativo)
# true: attiva limiti anche se il sistema è sotto carico (isolamento garantito)
IGNORE_SYSTEM_LOAD=true
